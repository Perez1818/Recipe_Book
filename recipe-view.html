<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Walkthrough</title>
    <link rel="stylesheet" href="css/recipe-view.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script defer src="js/recipe-view.js"></script>
</head>
<body>
    <header>
        <p id="logo"> Recipe Book</p>
    </header>
    <hr width="100%">
    <main>
        <h1 id="recipe-name">Recipe Name</h1>
        <span id="username-and-date">
            <span>By 
                <a id="username-link">
                    <b id="username">@username1234567890</b>
                </a>
                <a id="origin-site-link">
                    <svg id="origin-site-available" width="15px" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" />
                    </svg>
                    <svg id="origin-site-not-available" width="15px" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13.181 8.68a4.503 4.503 0 0 1 1.903 6.405m-9.768-2.782L3.56 14.06a4.5 4.5 0 0 0 6.364 6.365l3.129-3.129m5.614-5.615 1.757-1.757a4.5 4.5 0 0 0-6.364-6.365l-4.5 4.5c-.258.26-.479.541-.661.84m1.903 6.405a4.495 4.495 0 0 1-1.242-.88 4.483 4.483 0 0 1-1.062-1.683m6.587 2.345 5.907 5.907m-5.907-5.907L8.898 8.898M2.991 2.99 8.898 8.9" />
                    </svg>
                </a>

            </span>
            <span id="separator">|</span>
            <span id="publishing-date">Uploaded on on August 14, 2025</span>
        </span>
         <div class="rating-container">
            <span class="fa fa-star" data-r-value="1"></span>
            <span class="fa fa-star" data-r-value="2"></span>
            <span class="fa fa-star" data-r-value="3"></span>
            <span class="fa fa-star" data-r-value="4"></span>
            <span class="fa fa-star" data-r-value="5"></span>
            <span id="avg-rating">0.0</span>
        </div>
        <div id="button-container">
                <button>
                    <svg id="bookmark" class="clickable" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" />
                    </svg>
                </button>
                <span>|</span>
                <button>
                    <svg id="calendar" class="clickable" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
                    </svg>
                </button>
                <span>|</span>
                <button>
                    <svg id="share" class="clickable" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z" />
                    </svg>
                </button>
            </div>
            <div id="recipe-interactions">
                <div id="likes">
                    <button>
                        <i class="fa fa-thumbs-o-up clickable" style="font-size:30px;"></i>
                    </button>
                    <span id="like-count">0</span>
                </div>
                <div id="comments">
                    <button>
                        <svg class="clickable" width="30px" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
                        </svg>
                    </button>
                    <span>150</span>
                </div>
            </div>
        <section id="intro">
            <!-- <div> -->
                <div id="image-nutrient-container">
                    <img id="recipe-thumbnail">
                    <div id="nutrient-label-container">
                        <button id="show-nutrition-facts">
                            <span>Hide Nutrition Facts</span>
                        </button>
                        <table id="nutrient-label">
                            <tr>
                                <th>Servings</th>
                                <td>10</td>
                            <tr>
                            <tr>
                                <th>Serving Size</th>
                                <td>1 cup</td>
                            </tr>
                            <tr>
                                <th>Calories</th>
                                <td>150 calories</td>
                            </tr>
                        </table>
                    </div>
                </div>
            <div id="recipe-details">
                <div id="prep-time">
                    <b>Prep Time</b>
                    <p>30 mins</p>
                </div>
                <div id="total-time">
                    <b>Total Time</b>
                    <p>1 hr</p>
                </div>
            </div>
            <p>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae assumenda sequi rerum repellat nulla ipsam, facere ut excepturi ad totam sed aliquid deserunt. Amet reiciendis pariatur veritatis omnis! Quisquam, animi! Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos reiciendis recusandae corporis dolores vel nihil repellendus. Consequuntur quis voluptas ipsam delectus saepe quae soluta accusamus sequi, amet provident nam quos!
            </p>
        </section>
        <section>
            <hr class="divider">
            <h2>Video Tutorial</h2>
            <iframe id="recipe-tutorial" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
            <p>
                Lorem ipsum, dolor sit amet consectetur adipisicing elit. Velit molestiae, amet provident ratione sed omnis, aut, sunt incidunt veritatis at autem quia? Mollitia, ab veniam non laudantium error odio! Quam?
            </p>
        </section>

        <section>
            <hr class="divider">
            <h2>Walkthrough</h2>
            <div class="two-column-container">
                <div class="ingredient-card">
                    <h3>Ingredients</h3>
                    <ol id="ingredient-list">
                        <!-- Ingredients from recipe-view.js will appear here -->
                    </ol>
                    <button id="toggle-units">Switch to grams</button> <!-- toggle button for switching units -->
                </div>
                <div class="card">
                    <div id="step-counter">1</div>
                    <div>
                        <h3 id="instructions">
                            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Architecto, dicta! Doloremque, deserunt neque nam, esse alias explicabo ducimus reiciendis veniam voluptatibus assumenda iste doloribus iusto recusandae excepturi accusantium officiis libero.
                        </h3>
                        <span class="estimated-time">⏱️ Estimated Time: <b>5 minutes</b></span>
                    </div>
                </div>
            </div>

            <progress id="completion-progress">
            </progress>

            <div id="navigate-walkthrough">
                <button disabled="true">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
                    </svg>
                </button>
                <span id="completion-fraction">1 / 3</span>
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
                    </svg>
                </button>
            </div>
        </section>

        <section>
            <hr class="divider">
            <h2>Reviews</h2>
            <div id="review-container">
                <div id="inner-container">
                    <div id="no-review-container">
                        <b> No Reviews yet!</b>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script> // JavaScript for toggling between cups and grams + star ratings + like button
        document.getElementById('toggle-units').addEventListener('click', function () {
            const isCups = this.textContent.includes('grams');
            const ingredients = document.querySelectorAll('.ingredient-card ol li');
            ingredients.forEach(li => {
                const checkbox = li.querySelector('input.ingredient-checkbox');
                const span = li.querySelector('span');
                if (checkbox && span) {
                    span.textContent = isCups ? checkbox.getAttribute('data-grams') : checkbox.getAttribute('data-cups');
                }
            });
            this.textContent = isCups ? 'Switch to cups' : 'Switch to grams';
        });

        document.querySelectorAll('.rating-container .fa-star').forEach(star => {
            star.addEventListener('click', function() {
                const rating = parseInt(this.getAttribute('data-r-value'));
                document.querySelectorAll('.rating-container .fa-star').forEach((s, i) => {
                s.classList.toggle('checked', i < rating);
                });
                document.getElementById('avg-rating').textContent = rating.toFixed(1);
            });
        });

        document.getElementById('likes').addEventListener('click', function(e) {
            if (!e.target.closest('button')) return;
            const icon = this.querySelector('i');
            const countSpan = document.getElementById('like-count');
            let count = parseInt(countSpan.textContent, 10);
            if (!icon.classList.contains('liked')) {
                icon.classList.add('liked');
                countSpan.textContent = count + 1;
            } else {
                icon.classList.remove('liked');
                countSpan.textContent = count > 0 ? count - 1 : 0;
            }
        });
    </script>
</body>
</html>